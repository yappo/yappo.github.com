<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Style-Type" content="text/css; charset=utf-8" />
<meta http-equiv="Content-Script-Type" content="text/javascript; charset=utf-8" />
<meta name="generator" content="emacs" />
<meta name="version" content="0.1" />
<meta name="author" content="Yappo" />
<title>folkatdevs2</title>
<script type="text/javascript" src="./s6.js"></script>
<script type="text/javascript">
// <![CDATA[

var bodyStyle = {
    width: '100%',
    height: '100%',
    padding: '0',
    margin: '0',
    overflow: 'hidden',
    backgroundColor: 'gray'
};

s6.css('html', bodyStyle);
s6.css('body', bodyStyle);

var pr;
s6.attach(s6, 'ready', function ready() {
    var html = document.documentElement;
    var height = html.offsetHeight;
    var width = html.offsetWidth;
    var top = 0;
    var left = 0;

    if (height / width < 0.75) {
        var originalWidth = width;
        width = height / 0.75;
        left = (originalWidth - width) / 2 + 'px';
    }
    else {
        var originalHeight = height;
        height = width * 0.75;
        top = (originalHeight - height) / 2 + 'px';
    }

    var result;
    if (result = document.cookie.match(/page=(\d+)/)) {
        var startIndex = +result[1];
    }

    pr = new s6.Presentation({ element: document.body, width: width, height: height, startIndex: startIndex });
    pr.style.left = left;
    pr.style.top = top;
    pr.start();

    var indexNoOutline = false;

    pr.funcPages.index.attachPage('click', function(i, element, wrapper) {
        indexNoOutline = true;
        setTimeout(function() {
            indexNoOutline =false
        }, 1000);
        wrapper.style.background = '';
        pr.go(i);
    });

    pr.funcPages.index.attachPage('mouseover', function(i, element, wrapper) {
        if (indexNoOutline) return;
        wrapper.className += ' selected';
    });
    
    pr.funcPages.index.attachPage('mouseout', function(i, element, wrapper) {
        wrapper.className = 'wrapper';
    });

    try {
        var isIframe = !(window.parent == window);
    } catch(e) {
        isIframe = true;
    }

    s6.attach(document,   'keypress Right', 'step', 0, pr);
    s6.attach(document,   'keypress Left',  'prev', 0, pr);
    s6.attach(document,   'keypress Up',    function() { pr.go('index') });
    s6.attach(document,   'keypress Down',  'back', 0, pr);

    s6.attach(document,   'keypress l', 'step', 0, pr);
    s6.attach(document,   'keypress h',  'prev', 0, pr);
    s6.attach(document,   'keypress k',    function() { pr.go('index') });
    s6.attach(document,   'keypress j',  'back', 0, pr);

});

// Test
var timer = 0;
setInterval(function() {
    document.cookie = 'page=' + pr.index;
    document.title = timer++;
}, 1000);
// ]]>
</script>

</head>
<body>

 <!-- ===================================================== -->

 <div>
  <h3>操作方法</h3>
  <ul>
   <li>l キー: 次のページへ</li>
   <li>h キー: 前のページへ</li>

   <li>j キー: 目次ページへ</li>
   <li>k キー: 目次ページから戻る</li>
   <li>目次ページでは j k キーで一覧を移動し、クリックで選択します</li>
  </ul>
  <script type="text/javascript"> s6.page({ styles: { ul: { fontSize: '0.75em', marginTop: '2%' } } }) </script>
 </div>

 <!-- ===================================================== -->

 <h1>folkatdevs2</h1>

 <address>Yappo: yappo あっと shibuya.pl<br /> kimoto Perl Mongers</address>

 <script type="text/javascript">
    s6.page({
        wrap: 2,
        styles: { 'h1/span': { fontWeight: 'bold' } }
    })
 </script>

 <!-- ===================================================== -->

 <div>
  <p>yokohama.pmまでのあらすじ</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <p>社内ITSと kuragepo の話をしました</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <p>今日は YAPC の LT で話せなかった事をやります</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <p>〜第一章〜</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <p>〜第一章〜 Twitter Streaming API with GrowthForecast</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <p>今時のまともなWeb系起業はみんな GrowthForecast を使っていると思います</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <p>僕のチームでも、ユーザ数やメタデータ数やコメント数裸威紅数、そのほか色々なデータ並びに手裏剣の販売数などもグラフに取っています。</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <p>社内の情報をグラフに取るだけだと、関わってるプロジェクト界隈の全体的な兆候まで見れなくて井の中の蛇蛙になってしまいますよね。。</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <p>CENSORD</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <p>最近は競合のデータと自社データを、同じ条件で観測してグラフ化して全体的な傾向を取るような事もやっています。</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <p>どう取る？</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <p>それ AnySan で出来るよ</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <p>Twitter Streaming API を用いて、特定のつぶやきで且つ特定のアプリケーションから呟かれた数を集計する。</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <h3>こんな感じになります</h3>
  <p>CENSORD</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <h3>だいたいソースコード</h3>
  <p><img src="img/checkin.png" /></p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <p>まぁ、 AnySan 使う必要ないから AnyEvent::Twitter::Stream だけ使ってるけど</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <p>これを見てわかる事は、自社サービスの使われ方の傾向と他社サービスとの違いがあるのかどうかというのを客観的に知る事ができます。</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <p>この場合は集計データを一度全部 mysql に溜めてから、他の自社データのグラフと同じツールで一気にグラフ化してます。</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <h3>この便利ツール</h3>
  <p><img src="img/gfpl.png" /></p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <p>〜第一章〜 おわり</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <p>〜第二章〜 YAPC で省いたやつ</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <p>YAPC は LT なのに40分用の内容で挑んでだいぶ端折ったので捗るまわりを小出しに</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>


 <!-- ===================================================== -->

 <div>
  <p>〜ステージングサーバの環境〜</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <h3>こういうステージング環境ツールを作ってます</h3>
  <p><img src="img/report.png" /></p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
   <h3>grader tools</h3>
   <ul>
     <li>grader-create branch, grader-remove branch</li>
     <li>コマンド一発で、ミドルウェアの設定と必要なサーバプロセスの立ち上げ/削除が行える</li>
     <li>ブランチ毎のステージング環境の管理が簡素化</li>
   </ul>
   <script type="text/javascript"> s6.page({ styleBase: '', styles: { 'ul/li': { fontSize: "0.8em" } } }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <p>create/remove したときは ikachan に飛ばしてる</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
   <h3>staging status server</h3>
   <ul>
     <li>ステージングサーバの各種詳細状態をブラウザで見れるように</li>
     <li>現在動いてるplack list、ブランチリスト</li>
     <li>crontab でステータスを取って、静的ファイル配信</li>
   </ul>
   <script type="text/javascript"> s6.page({ styleBase: '', styles: { 'ul/li': { fontSize: "0.8em" } } }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
   <h3>非エンジニア向け改修</h3>
   <ul>
     <li>ブラウザでステージングサーバのファイルを git pull して svc -t するページ</li>
     <li>ブラウザで grader-create してくれるページ</li>
     <li>デザイン変更等は、エンジニアが関わらない事もあるので、非エンジニあに優しくしておく</li>
   </ul>
   <script type="text/javascript"> s6.page({ styleBase: '', styles: { 'ul/li': { fontSize: "0.8em" } } }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
   <h3>local 2 staging</h3>
   <ul>
     <li>local環境の ip address を定期的に status server に報告する</li>
     <li>誰がどの ip address になるか解ってるので、トラブルになった時にすぐ助けられる</li>
     <li>一括で開発用ファームウェアをアップグレードするときにも使える</li>
   </ul>
   <script type="text/javascript"> s6.page({ styleBase: '', styles: { 'ul/li': { fontSize: "0.8em" } } }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
   <h3>staging create/update/remove</h3>
   <ul>
     <li>vmのシェル環境から staging create とやると status サーバの API を叩いて、ステージング環境を作る</li>
     <li>非エンジニア向けの機能を使ってエンジニアに優しい環境をつくる</li>
     <li>わざわざ ssh する必要がなくなるので便利</li>
   </ul>
   <script type="text/javascript"> s6.page({ styleBase: '', styles: { 'ul/li': { fontSize: "0.7em" } } }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <p>create/remove したときは ikachan に飛ばすように grader script が作られてるので、エンジニアも常に把握していられるし、わざわざ作業報告する必要がなくて面倒さが無い</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <h3>schema 一覧</h3>
  <p><img src="img/schema.png" /></p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
   <h3>sql schema pages</h3>
   <ul>
     <li>crontab で定期的に、 SHOW CREATE TABLE して、スキーマをブラウザで見れるようにする</li>
     <li>table 毎に md5 して、更新の合ったテーブルの検出をしやすくする</li>
     <li>最初はおもに、誰かがテーブル追加した時に参考するだけのページでした</li>
   </ul>
   <script type="text/javascript"> s6.page({ styleBase: '', styles: { 'ul/li': { fontSize: "0.8em" } } }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
   <h3>create_table.pl</h3>
   <ul>
     <li>vmの開発環境とステージングの schema が一致しなくなる時がある</li>
     <li>status サーバを見れば最新の定義がわかるので、それをダウンロードして反映</li>
     <li>alter table とかも自動でやってカラム位置も after で　</li>
   </ul>
   <script type="text/javascript"> s6.page({ styleBase: '', styles: { 'ul/li': { fontSize: "0.8em" } } }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
   <h3>diag.pl</h3>
   <ul>
     <li>開発用のイメージは、エンジニア意外も作業するので、 git やらサーバ落ちてるトラブルがたまにある</li>
     <li>診断ツールを入れてある</li>
     <li>コマンドを叩くと、プロセス一覧、git cloneしたディレクトリの状態等々をまとめたリポートファイルを作成</li>
     <li>作ったファイルは、最初に出た nopaste script でアップロードして、 url を ikachan に</li>
   </ul>
   <script type="text/javascript"> s6.page({ styleBase: '', styles: { 'ul/li': { fontSize: "0.6em" } } }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <p>以上です。何か質問がございましたら、社内IRCもしくは後夜祭などでお願いします。あ、あと</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <p>あと、ライブドアではエンジニア採用してます！！１</p>
  <script type="text/javascript"> s6.page({ styleBase: '' }); </script>
 </div>

 <!-- ===================================================== -->

</body>
</html>
